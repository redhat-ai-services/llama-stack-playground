# Llama Stack Helm Chart

This Helm chart is designed to install the Llama Stack, a comprehensive platform for llama-related tasks.

The chart provides a convenient way to deploy and manage the Llama Stack on Kubernetes or OpenShift clusters. It offers flexibility in customizing the deployment by allowing users to modify values such as image repositories, probe configurations, resource limits, and more.

Optionally, the chart also supports the installation of the llama-stack-playground, which provides a web-based interface for interacting with the Llama Stack.

## Quick Start

Create a `local-values.yaml` file with the following:

```yaml
vllm:
  url: "https://<MY_VLLM_INSTANCE>:443/v1"
  inferenceModel: "meta-llama/Llama-3.1-8B-Instruct"
  apiKey: xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# If you want to try to use brave for the Web Calling Tool
# Note: Still having issues getting this to work
brave:
  enabled: true
  api_key: "xxxxxxxxxxxxxxxxxxxxxxxxxxx"
```

Login to Openshift through the CLI and run:

```sh
helm upgrade -i ollama-stack . -f local-values.yaml
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| image.pullPolicy | string | `"Always"` |  |
| image.repository | string | `"quay.io/jland/distribution-remote-vllm"` |  |
| image.tag | string | `"latest"` |  |
| livenessProbe.httpGet.path | string | `"/v1/health"` |  |
| livenessProbe.httpGet.port | int | `5001` |  |
| playground.backend.url | string | `"https://my-llama-stack.openshiftapps.com"` |  |
| playground.enabled | bool | `true` |  |
| playground.image.pullPolicy | string | `"Always"` |  |
| playground.image.repository | string | `"quay.io/jland/llama-stack-playground"` |  |
| playground.image.tag | string | `"latest"` |  |
| playground.livenessProbe.httpGet.path | string | `"/"` |  |
| playground.livenessProbe.httpGet.port | int | `8501` |  |
| playground.readinessProbe.httpGet.path | string | `"/"` |  |
| playground.readinessProbe.httpGet.port | int | `8501` |  |
| playground.replicaCount | int | `1` |  |
| playground.resources.limits.cpu | string | `"100m"` |  |
| playground.resources.limits.memory | string | `"500Mi"` |  |
| playground.resources.requests.cpu | string | `"100m"` |  |
| playground.resources.requests.memory | string | `"500Mi"` |  |
| playground.route.annotations | object | `{}` |  |
| playground.route.enabled | bool | `true` |  |
| playground.route.tls.enabled | bool | `true` |  |
| playground.route.tls.insecureEdgeTerminationPolicy | string | `"Redirect"` |  |
| playground.route.tls.termination | string | `"edge"` |  |
| playground.service.port | int | `8501` |  |
| playground.service.type | string | `"ClusterIP"` |  |
| playground.startupProbe.failureThreshold | int | `16` |  |
| playground.startupProbe.httpGet.path | string | `"/"` |  |
| playground.startupProbe.httpGet.port | int | `8501` |  |
| playground.startupProbe.initialDelaySeconds | int | `5` |  |
| playground.startupProbe.periodSeconds | int | `2` |  |
| readinessProbe.httpGet.path | string | `"/v1/health"` |  |
| readinessProbe.httpGet.port | int | `5001` |  |
| replicaCount | int | `1` |  |
| resources.limits.cpu | string | `"100m"` |  |
| resources.limits.memory | string | `"500Mi"` |  |
| resources.requests.cpu | string | `"100m"` |  |
| resources.requests.memory | string | `"500Mi"` |  |
| route.annotations | object | `{}` | Additional custom annotations for the route |
| route.enabled | bool | `true` | Enable creation of the OpenShift Route object |
| route.host | string | Set by OpenShift | The hostname for the route |
| route.path | string | `""` | The path for the OpenShift route |
| route.tls.enabled | bool | `true` | Enable secure route settings |
| route.tls.insecureEdgeTerminationPolicy | string | `"Redirect"` | Insecure route termination policy |
| route.tls.termination | string | `"edge"` | Secure route termination policy |
| service.port | int | `5001` |  |
| service.type | string | `"ClusterIP"` |  |
| startupProbe.failureThreshold | int | `30` |  |
| startupProbe.httpGet.path | string | `"/v1/health"` |  |
| startupProbe.httpGet.port | int | `5001` |  |
| startupProbe.initialDelaySeconds | int | `40` |  |
| startupProbe.periodSeconds | int | `10` |  |
| vllm.inferenceModel | string | `"llama2-7b-chat"` |  |
| vllm.url | string | `"http://vllm-server"` |  |
| yamlConfig | string | `"/config/run.yaml"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
